<UserControl x:Class="PlansModule.Views.PlansTree"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:ViewModels="clr-namespace:PlansModule.ViewModels"
             xmlns:scm="clr-namespace:System.ComponentModel;assembly=WindowsBase"
    >
    <ScrollViewer HorizontalScrollBarVisibility="Visible">
        <TreeView ItemsSource="{Binding Plans}"
                  ContextMenuOpening="TreeView_ContextMenuOpening"
                  SelectedItemChanged="TreeView_SelectedItemChanged"
                  >
            <TreeView.ItemTemplate>
                <HierarchicalDataTemplate ItemsSource="{Binding Children}">
                    <WrapPanel Margin="0,3">
                        <TextBlock Text="{Binding Plan.Name}"/>
                    </WrapPanel>
                </HierarchicalDataTemplate>
            </TreeView.ItemTemplate>

            
            <TreeView.ContextMenu>
                <ContextMenu>
                    <MenuItem Header="Добавить план" Command="{Binding AddCommand}"/>
                    <MenuItem Header="Редактировать план" Command="{Binding EditCommand}"/>
                    <MenuItem Header="Удалить план" Command="{Binding RemoveCommand}"/>
                    <MenuItem Header="-" />

                </ContextMenu>
            </TreeView.ContextMenu>
        </TreeView>
    </ScrollViewer>
</UserControl>
