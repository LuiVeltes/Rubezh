<UserControl x:Class="InstructionsModule.Views.InstructionDetailsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:Converters="clr-namespace:InstructionsModule.Converters" 
             MinWidth="400" MinHeight="200">
    
        <Border CornerRadius="5" Margin="3" Padding="5" Background="{DynamicResource BackgroundBrush}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <Grid Grid.Row="0">
                <Grid TextBlock.FontSize="14" Margin="2" >
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <Label Grid.Column="0" Grid.Row="0" Content="Номер" HorizontalAlignment="Right" />
                    <Label Grid.Column="0" Grid.Row="1" Content="Текст" HorizontalAlignment="Right" />
                    <Label Grid.Column="0" Grid.Row="2" Content="Состояние" HorizontalAlignment="Right" />
                    <Label Grid.Column="0" Grid.Row="3" Content="Тип инструкции" HorizontalAlignment="Right" />
                    <TextBox Grid.Column="1" Grid.Row="0" Text="{Binding InstructionNo}" IsEnabled="False" Margin="2" />
                    <TextBox Grid.Column="1" Grid.Row="1" Text="{Binding Text, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Margin="2" />
                    <ComboBox Grid.Column="1" Grid.Row="2" Margin="2" ItemsSource="{Binding AvailableStates}"
                      SelectedItem="{Binding StateType, UpdateSourceTrigger=PropertyChanged}" Text="{Binding StateType}">
                        <ComboBox.ItemTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding ., Converter={StaticResource StateTypeToStringConverter}}" />
                            </DataTemplate>
                        </ComboBox.ItemTemplate>
                    </ComboBox>
                    <ComboBox Grid.Column="1" Grid.Row="3" Margin="2" ItemsSource="{Binding AvailableInstructionsType}"
                      SelectedItem="{Binding InstructionType, UpdateSourceTrigger=PropertyChanged}" Text="{Binding InstructionType}">
                        <ComboBox.ItemTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding ., Converter={StaticResource InstructionTypeToStringConverter}}" />
                            </DataTemplate>
                        </ComboBox.ItemTemplate>
                    </ComboBox>
                </Grid>
            </Grid>

            <Grid Grid.Row="1" Margin="0,10,0,0">
                <StackPanel Orientation="Vertical" HorizontalAlignment="Stretch">
                    <TextBlock>
                    <Hyperlink Command="{Binding SelectZoneCommand}" Style="{StaticResource HyperlinkStyle}">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="{Binding SelectZones}" Margin="2" />
                            <TextBlock Margin="2">
                            <TextBlock.Style>
                                <Style>
                                    <Style.Triggers>
                                    <DataTrigger Binding="{Binding SelectZones}" Value="{x:Null}">
                                        <Setter Property="TextBlock.Text" Value="Нажмите для выбора зон" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding SelectZones}" Value="">
                                        <Setter Property="TextBlock.Text" Value="Нажмите для выбора зон" />
                                    </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                    </StackPanel>
                </Hyperlink>
             </TextBlock>
                    <TextBlock>
                <Hyperlink Command="{Binding SelectDeviceCommand}" Style="{StaticResource HyperlinkStyle}">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="{Binding SelectDevices}" Margin="2" />
                        <TextBlock Margin="2">
                            <TextBlock.Style>
                                <Style>
                                    <Style.Triggers>
                                    <DataTrigger Binding="{Binding SelectDevices}" Value="{x:Null}">
                                        <Setter Property="TextBlock.Text" Value="Нажмите для выбора устройств" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding SelectDevices}" Value="">
                                        <Setter Property="TextBlock.Text" Value="Нажмите для выбора устройств" />
                                    </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                    </StackPanel>
                    </Hyperlink>
                </TextBlock>
                </StackPanel>
            </Grid>

        </Grid>
    </Border>
</UserControl>
