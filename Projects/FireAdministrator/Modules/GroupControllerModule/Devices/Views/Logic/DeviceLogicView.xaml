<UserControl x:Class="GKModule.Views.DeviceLogicView"
		xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
		xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:Controls="clr-namespace:Controls;assembly=Controls"
		xmlns:Converters="clr-namespace:GKModule.Converters"
		xmlns:Views="clr-namespace:GKModule.Views"
		MinWidth="800" MinHeight="500">

    <UserControl.Resources>
        <Converters:ClauseConditionConverter x:Key="ClauseConditionConverter" />
        <Converters:XStateTypeToStringConverter x:Key="XStateTypeToStringConverter" />
        <Converters:ClauseOperationConverter x:Key="ClauseOperationConverter" />
        <Converters:ClauseJounOperationConverter x:Key="ClauseJounOperationConverter" />
    </UserControl.Resources>

    <Border CornerRadius="5" Margin="5" Padding="5" Background="{DynamicResource BackgroundBrush}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <Controls:ToolBarButton Grid.Row="0" Margin="2" Command="{Binding AddCommand}" ToolTip="Добавить" ImageSource="/Controls;component/Images/Add.png" HorizontalAlignment="Left" />
            <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    <Views:ClausesView />
                    <StackPanel Orientation="Horizontal" Visibility="{Binding IsMRO_2M, Converter={StaticResource BoolToVisibilityConverter}}" Margin="2">
                        <ComboBox ItemsSource="{Binding AvailableMROMessageNos}" SelectedItem="{Binding SelectedMROMessageNo}" Width="150" Height="30" Margin="2">
                            <ComboBox.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding ., Converter={StaticResource MROMessageNoToStringConverter}}" />
                                </DataTemplate>
                            </ComboBox.ItemTemplate>
                        </ComboBox>
                        <ComboBox ItemsSource="{Binding AvailableMROMessageTypes}" SelectedItem="{Binding SelectedMROMessageType}" Width="150" Height="30" Margin="2">
                            <ComboBox.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding ., Converter={StaticResource MROMessageTypeToStringConverter}}" />
                                </DataTemplate>
                            </ComboBox.ItemTemplate>
                        </ComboBox>
                    </StackPanel>
                </StackPanel>
            </ScrollViewer>
        </Grid>
    </Border>
</UserControl>