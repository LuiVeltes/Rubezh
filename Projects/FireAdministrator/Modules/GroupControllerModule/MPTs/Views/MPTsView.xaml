<UserControl x:Class="GKModule.Views.MPTsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:Controls="clr-namespace:Controls;assembly=Controls">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="2*" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <Grid Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <Controls:XDataGrid Grid.Column="0" ItemsSource="{Binding MPTs}" SelectedItem="{Binding SelectedMPT}" Margin="2">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Название" Width="*" Binding="{Binding MPT.Name}" />
                </DataGrid.Columns>
            </Controls:XDataGrid>
            <Border Grid.Column="1" CornerRadius="5" Background="White" Margin="2">
                <Grid Visibility="{Binding HasSelectedMPT, Converter={StaticResource BoolToVisibilityConverter}}">
                    <StackPanel DataContext="{Binding SelectedMPT}" Margin="2">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="Табличка Уходи" FontWeight="Bold" Width="250" Margin="5 2" />
                            <WrapPanel>
                                <TextBlock VerticalAlignment="Center" TextWrapping="Wrap" Margin="2">
				                    <Hyperlink Command="{Binding ChangeOffTableDevicesCommand}" Style="{StaticResource HyperlinkStyle2}">
					                    <TextBlock TextWrapping="Wrap" Margin="2">
						                    <TextBlock.Style>
							                    <Style>
								                    <Setter Property="TextBlock.Text" Value="{Binding OffTableDevicesPresentationName}" />
								                    <Style.Triggers>
									                    <DataTrigger Binding="{Binding OffTableDevicesPresentationName}" Value="">
										                    <Setter Property="TextBlock.Text" Value="Нажмите для выбора устройств" />
									                    </DataTrigger>
								                    </Style.Triggers>
							                    </Style>
						                    </TextBlock.Style>
					                    </TextBlock>
				                    </Hyperlink>
			                    </TextBlock>
                            </WrapPanel>
                        </StackPanel>

                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="Табличка Не входи" FontWeight="Bold" Width="250" Margin="5 2" />
                            <WrapPanel>
                                <TextBlock VerticalAlignment="Center" TextWrapping="Wrap" Margin="2">
				                    <Hyperlink Command="{Binding ChangeOnTableDevicesCommand}" Style="{StaticResource HyperlinkStyle2}">
					                    <TextBlock TextWrapping="Wrap" Margin="2">
						                    <TextBlock.Style>
							                    <Style>
								                    <Setter Property="TextBlock.Text" Value="{Binding OnTableDevicesPresentationName}" />
								                    <Style.Triggers>
									                    <DataTrigger Binding="{Binding OnTableDevicesPresentationName}" Value="">
										                    <Setter Property="TextBlock.Text" Value="Нажмите для выбора устройств" />
									                    </DataTrigger>
								                    </Style.Triggers>
							                    </Style>
						                    </TextBlock.Style>
					                    </TextBlock>
				                    </Hyperlink>
			                    </TextBlock>
                            </WrapPanel>
                        </StackPanel>

                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="Табличка Автоматика" FontWeight="Bold" Width="250" Margin="5 2" />
                            <WrapPanel>
                                <TextBlock VerticalAlignment="Center" TextWrapping="Wrap" Margin="2">
				                    <Hyperlink Command="{Binding ChangeAutomaticTableDevicesCommand}" Style="{StaticResource HyperlinkStyle2}">
					                    <TextBlock TextWrapping="Wrap" Margin="2">
						                    <TextBlock.Style>
							                    <Style>
								                    <Setter Property="TextBlock.Text" Value="{Binding AutomaticTableDevicesPresentationName}" />
								                    <Style.Triggers>
									                    <DataTrigger Binding="{Binding AutomaticTableDevicesPresentationName}" Value="">
										                    <Setter Property="TextBlock.Text" Value="Нажмите для выбора устройств" />
									                    </DataTrigger>
								                    </Style.Triggers>
							                    </Style>
						                    </TextBlock.Style>
					                    </TextBlock>
				                    </Hyperlink>
			                    </TextBlock>
                            </WrapPanel>
                        </StackPanel>

                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="Сирена" FontWeight="Bold" Width="250" Margin="5 2" />
                            <WrapPanel>
                                <TextBlock VerticalAlignment="Center" TextWrapping="Wrap" Margin="2">
				                    <Hyperlink Command="{Binding ChangeSirenaDevicesCommand}" Style="{StaticResource HyperlinkStyle2}">
					                    <TextBlock TextWrapping="Wrap" Margin="2">
						                    <TextBlock.Style>
							                    <Style>
								                    <Setter Property="TextBlock.Text" Value="{Binding SirenaDevicesPresentationName}" />
								                    <Style.Triggers>
									                    <DataTrigger Binding="{Binding SirenaDevicesPresentationName}" Value="">
										                    <Setter Property="TextBlock.Text" Value="Нажмите для выбора устройств" />
									                    </DataTrigger>
								                    </Style.Triggers>
							                    </Style>
						                    </TextBlock.Style>
					                    </TextBlock>
				                    </Hyperlink>
			                    </TextBlock>
                            </WrapPanel>
                        </StackPanel>
                    </StackPanel>
                </Grid>
            </Border>
        </Grid>

        <Border Grid.Row="1" CornerRadius="5" Background="White" Margin="2">
            <Grid Visibility="{Binding HasSelectedMPT, Converter={StaticResource BoolToVisibilityConverter}}">
                <StackPanel DataContext="{Binding SelectedMPT}" Margin="2">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="Условие для запуска" FontWeight="Bold" Width="250" Margin="5 2" />
                        <TextBlock VerticalAlignment="Center" Margin="2">
				            <Hyperlink Command="{Binding ChangeStartLogicCommand}" Style="{StaticResource HyperlinkStyle2}">
					            <TextBlock Margin="2">
						            <TextBlock.Style>
							            <Style>
								            <Setter Property="TextBlock.Text" Value="{Binding StartPresentationName}" />
								            <Style.Triggers>
									            <DataTrigger Binding="{Binding StartPresentationName}" Value="">
										            <Setter Property="TextBlock.Text" Value="Нажмите для выбора логики" />
									            </DataTrigger>
								            </Style.Triggers>
							            </Style>
						            </TextBlock.Style>
					            </TextBlock>
				            </Hyperlink>
			            </TextBlock>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="Условие для останова или запрета пуска" FontWeight="Bold" Width="250" Margin="5 2" />
                        <TextBlock VerticalAlignment="Center" Margin="2">
				            <Hyperlink Command="{Binding ChangeStopLogicCommand}" Style="{StaticResource HyperlinkStyle2}">
					            <TextBlock Margin="2">
						            <TextBlock.Style>
							            <Style>
								            <Setter Property="TextBlock.Text" Value="{Binding StopPresentationName}" />
								            <Style.Triggers>
									            <DataTrigger Binding="{Binding StopPresentationName}" Value="">
										            <Setter Property="TextBlock.Text" Value="Нажмите для выбора логики" />
									            </DataTrigger>
								            </Style.Triggers>
							            </Style>
						            </TextBlock.Style>
					            </TextBlock>
				            </Hyperlink>
			            </TextBlock>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="Условие для отключения автоматики" FontWeight="Bold" Width="250" Margin="5 2" />
                        <TextBlock VerticalAlignment="Center" Margin="2">
				            <Hyperlink Command="{Binding ChangeAutomaticOffLogicCommand}" Style="{StaticResource HyperlinkStyle2}">
					            <TextBlock Margin="2">
						            <TextBlock.Style>
							            <Style>
								            <Setter Property="TextBlock.Text" Value="{Binding AutomaticOffPresentationName}" />
								            <Style.Triggers>
									            <DataTrigger Binding="{Binding AutomaticOffPresentationName}" Value="">
										            <Setter Property="TextBlock.Text" Value="Нажмите для выбора логики" />
									            </DataTrigger>
								            </Style.Triggers>
							            </Style>
						            </TextBlock.Style>
					            </TextBlock>
				            </Hyperlink>
			            </TextBlock>
                    </StackPanel>
                </StackPanel>
            </Grid>
        </Border>
        
    </Grid>
</UserControl>