<UserControl x:Class="LayoutModule.Views.LayoutUsersView" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:controls="clr-namespace:Controls;assembly=Controls" xmlns:tree="clr-namespace:Controls.TreeList;assembly=Controls">
	<UserControl.Resources>
		<Style x:Key="IsActiveCheckBoxStyle" TargetType="CheckBox">
			<Setter Property="Focusable" Value="False" />
			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="CheckBox">
						<Image Name="_image" Source="/Controls;component/Images/Eye1.png" />
						<ControlTemplate.Triggers>
							<Trigger Property="IsChecked" Value="true">
								<Setter TargetName="_image" Property="Source" Value="/Controls;component/Images/Eye2.png" />
								<Setter TargetName="_image" Property="ToolTip" Value="Доступен" />
							</Trigger>
							<Trigger Property="IsChecked" Value="false">
								<Setter TargetName="_image" Property="Source" Value="/Controls;component/Images/Eye3.png" />
								<Setter TargetName="_image" Property="ToolTip" Value="Недоступен" />
							</Trigger>
						</ControlTemplate.Triggers>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>
	</UserControl.Resources>
	<tree:TreeList SelectedTreeNode="{Binding SelectedUser}" Source="{Binding Users}">
		<tree:TreeList.ItemContainerStyle>
			<Style BasedOn="{StaticResource {x:Type tree:TreeListItem}}" TargetType="{x:Type tree:TreeListItem}">
				<!--  <Setter Property="ContextMenu" Value="{StaticResource contextMenu}" />  -->
				<!--  <Setter Property="Controls:Attach.InputBindings" Value="{StaticResource inputCollection}" />  -->
				<Setter Property="Focusable" Value="True" />
			</Style>
		</tree:TreeList.ItemContainerStyle>
		<tree:TreeList.View>
			<GridView>
				<GridViewColumn Width="35" controls:ListViewLayoutManager.CanUserResize="False" Header="">
					<GridViewColumn.CellTemplate>
						<DataTemplate>
							<CheckBox Margin="1" IsChecked="{Binding IsActive, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Style="{StaticResource IsActiveCheckBoxStyle}" />
						</DataTemplate>
					</GridViewColumn.CellTemplate>
				</GridViewColumn>
				<GridViewColumn DisplayMemberBinding="{Binding Login}" Header="Логин" />
				<GridViewColumn DisplayMemberBinding="{Binding Name}" Header="Имя" />
				<GridViewColumn DisplayMemberBinding="{Binding RoleName}" Header="Роль" />
			</GridView>
		</tree:TreeList.View>
	</tree:TreeList>
</UserControl>

