<UserControl x:Class="AutomationModule.Views.ArithmeticStepView"
			 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 xmlns:automation="clr-namespace:FiresecAPI.Automation;assembly=FiresecAPI"
			 xmlns:extToolkit="http://schemas.microsoft.com/winfx/2006/xaml/presentation/toolkit/extended">
	<UserControl.Resources>
		<ResourceDictionary Source="ProcedureResources.xaml" />
	</UserControl.Resources>

	<StackPanel>
		<StackPanel Orientation="Horizontal">
			<Label Content="Тип значений" />
			<ComboBox ItemsSource="{Binding ValueTypes}" SelectedItem="{Binding SelectedValueType, UpdateSourceTrigger=PropertyChanged}">
				<ComboBox.ItemTemplate>
					<DataTemplate>
						<TextBlock Text="{Binding ., Converter={StaticResource EnumToDescriptionConverter}}" />
					</DataTemplate>
				</ComboBox.ItemTemplate>
			</ComboBox>
		</StackPanel>

		<StackPanel Orientation="Horizontal">
			<Label Content="Параметр1" />
			<ComboBox DataContext="{Binding Variable1}" ItemsSource="{Binding VariableTypes}" SelectedItem="{Binding SelectedVariableType, UpdateSourceTrigger=PropertyChanged}">
				<ComboBox.ItemTemplate>
					<DataTemplate>
						<TextBlock Text="{Binding ., Converter={StaticResource EnumToDescriptionConverter}}" />
					</DataTemplate>
				</ComboBox.ItemTemplate>
			</ComboBox>

			<ComboBox DataContext="{Binding Variable1}" ItemsSource="{Binding GlobalVariables}" SelectedItem="{Binding SelectedVariable, UpdateSourceTrigger=PropertyChanged}"
				  Visibility="{Binding Path=SelectedVariableType, Converter={StaticResource EnumToVisibilityConverter},
			ConverterParameter={x:Static automation:VariableType.IsGlobalVariable}}">
				<ComboBox.ItemTemplate>
					<DataTemplate>
						<TextBlock Text="{Binding Name}" />
					</DataTemplate>
				</ComboBox.ItemTemplate>
			</ComboBox>

			<ComboBox DataContext="{Binding Variable1}" ItemsSource="{Binding LocalVariables}" SelectedItem="{Binding SelectedVariable, UpdateSourceTrigger=PropertyChanged}"
				  Visibility="{Binding Path=SelectedVariableType, Converter={StaticResource EnumToVisibilityConverter},
			ConverterParameter={x:Static automation:VariableType.IsLocalVariable}}">
				<ComboBox.ItemTemplate>
					<DataTemplate>
						<TextBlock Text="{Binding Name}" />
					</DataTemplate>
				</ComboBox.ItemTemplate>
			</ComboBox>

			<StackPanel Visibility="{Binding Variable1.SelectedVariableType, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter={x:Static automation:VariableType.IsValue}}">
				<extToolkit:IntegerUpDown Value="{Binding Variable1.IntValue, UpdateSourceTrigger=PropertyChanged}"
					Visibility="{Binding SelectedValueType, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter={x:Static automation:ValueType.Integer}}" />
				<CheckBox IsChecked="{Binding Variable1.BoolValue, UpdateSourceTrigger=PropertyChanged}"
					Visibility="{Binding Path=SelectedValueType, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter={x:Static automation:ValueType.Boolean}}" />
				<TextBox Text="{Binding Variable1.StringValue, UpdateSourceTrigger=PropertyChanged}"
					Visibility="{Binding Path=SelectedValueType, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter={x:Static automation:ValueType.String}}" />
				<extToolkit:DateTimePicker Value = "{Binding Variable1.DateTimeValue, UpdateSourceTrigger=PropertyChanged}"
					Visibility="{Binding Path=SelectedValueType, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter={x:Static automation:ValueType.DateTime}}" />
			</StackPanel>
		</StackPanel>

		<StackPanel Orientation="Horizontal">
			<Label Content="Параметр2" />
			<ComboBox DataContext="{Binding Variable2}" ItemsSource="{Binding VariableTypes}" SelectedItem="{Binding SelectedVariableType, UpdateSourceTrigger=PropertyChanged}">
				<ComboBox.ItemTemplate>
					<DataTemplate>
						<TextBlock Text="{Binding ., Converter={StaticResource EnumToDescriptionConverter}}" />
					</DataTemplate>
				</ComboBox.ItemTemplate>
			</ComboBox>
			<ComboBox DataContext="{Binding Variable2}" ItemsSource="{Binding GlobalVariables}" SelectedItem="{Binding SelectedVariable, UpdateSourceTrigger=PropertyChanged}"
				  Visibility="{Binding Path=SelectedVariableType, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter={x:Static automation:VariableType.IsGlobalVariable}}">
				<ComboBox.ItemTemplate>
					<DataTemplate>
						<TextBlock Text="{Binding Name}" />
					</DataTemplate>
				</ComboBox.ItemTemplate>
			</ComboBox>
			<ComboBox DataContext="{Binding Variable2}" ItemsSource="{Binding LocalVariables}" SelectedItem="{Binding SelectedVariable, UpdateSourceTrigger=PropertyChanged}"
				  Visibility="{Binding Path=SelectedVariableType, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter={x:Static automation:VariableType.IsLocalVariable}}">
				<ComboBox.ItemTemplate>
					<DataTemplate>
						<TextBlock Text="{Binding Name}" />
					</DataTemplate>
				</ComboBox.ItemTemplate>
			</ComboBox>

			<StackPanel Visibility="{Binding Path=Variable2.SelectedVariableType, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter={x:Static automation:VariableType.IsValue}}">
				<extToolkit:IntegerUpDown Value="{Binding Variable2.IntValue, UpdateSourceTrigger=PropertyChanged}"
					Visibility="{Binding Path=SelectedValueType, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter={x:Static automation:ValueType.Integer}}" />
				<CheckBox IsChecked="{Binding Variable2.BoolValue, UpdateSourceTrigger=PropertyChanged}"
					Visibility="{Binding Path=SelectedValueType, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter={x:Static automation:ValueType.Boolean}}" />
				<TextBox Text="{Binding Variable2.StringValue, UpdateSourceTrigger=PropertyChanged}"
					Visibility="{Binding Path=SelectedValueType, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter={x:Static automation:ValueType.String}}" />
				<extToolkit:IntegerUpDown Value="{Binding Variable2.IntValue, UpdateSourceTrigger=PropertyChanged}"
					Visibility="{Binding Path=SelectedValueType, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter={x:Static automation:ValueType.DateTime}}" />
			</StackPanel>

			<ComboBox ItemsSource="{Binding TimeTypes}" SelectedItem="{Binding SelectedTimeType, UpdateSourceTrigger=PropertyChanged}"
				  Visibility="{Binding Path=SelectedValueType, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter={x:Static automation:ValueType.DateTime}}">
				<ComboBox.ItemTemplate>
					<DataTemplate>
						<TextBlock Text="{Binding ., Converter={StaticResource EnumToDescriptionConverter}}" />
					</DataTemplate>
				</ComboBox.ItemTemplate>
			</ComboBox>
		</StackPanel>

		<StackPanel Orientation="Horizontal">
		<Label Content="Тип операции" />
			<ComboBox ItemsSource="{Binding ArithmeticOperationTypes}" SelectedItem="{Binding SelectedArithmeticOperationType, UpdateSourceTrigger=PropertyChanged}">
				<ComboBox.ItemTemplate>
					<DataTemplate>
						<TextBlock Text="{Binding ., Converter={StaticResource EnumToDescriptionConverter}}" />
					</DataTemplate>
				</ComboBox.ItemTemplate>
			</ComboBox>
		</StackPanel>
		<StackPanel Orientation="Horizontal">
		<Label Content="Результат" />
		<ComboBox DataContext="{Binding Result}" ItemsSource="{Binding VariableTypes}" SelectedItem="{Binding SelectedVariableType, UpdateSourceTrigger=PropertyChanged}">
			<ComboBox.ItemTemplate>
				<DataTemplate>
					<TextBlock Text="{Binding ., Converter={StaticResource EnumToDescriptionConverter}}" />
				</DataTemplate>
			</ComboBox.ItemTemplate>
		</ComboBox>
		<ComboBox DataContext="{Binding Result}" ItemsSource="{Binding GlobalVariables}" SelectedItem="{Binding SelectedVariable, UpdateSourceTrigger=PropertyChanged}"
				  Visibility="{Binding Path=SelectedVariableType, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter={x:Static automation:VariableType.IsGlobalVariable}}">
			<ComboBox.ItemTemplate>
				<DataTemplate>
					<TextBlock Text="{Binding Name}" />
				</DataTemplate>
			</ComboBox.ItemTemplate>
		</ComboBox>
		<ComboBox DataContext="{Binding Result}" ItemsSource="{Binding LocalVariables}" SelectedItem="{Binding SelectedVariable, UpdateSourceTrigger=PropertyChanged}"
				  Visibility="{Binding Path=SelectedVariableType, Converter={StaticResource EnumToVisibilityConverter}, ConverterParameter={x:Static automation:VariableType.IsLocalVariable}}">
			<ComboBox.ItemTemplate>
				<DataTemplate>
					<TextBlock Text="{Binding Name}" />
				</DataTemplate>
			</ComboBox.ItemTemplate>
		</ComboBox>
		</StackPanel>
	</StackPanel>
</UserControl>