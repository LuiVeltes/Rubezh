<UserControl x:Class="Infrastructure.Client.Plans.PlanDesignerView" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:Controls="clr-namespace:Controls;assembly=Controls">
	<Grid Visibility="{Binding Plan, Converter={StaticResource NullToVisibilityConverter}}">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto" />
			<RowDefinition Height="*" />
			<RowDefinition Height="Auto" />
		</Grid.RowDefinitions>

		<ContentPresenter Grid.Row="0" Content="{Binding Toolbox}" DockPanel.Dock="Top" />

		<ScrollViewer Name="_scrollViewer" Grid.Row="1" HorizontalScrollBarVisibility="Visible" VerticalScrollBarVisibility="Visible">
			<Grid Name="_grid">
				<Grid.LayoutTransform>
					<TransformGroup>
						<ScaleTransform x:Name="scaleTransform" />
					</TransformGroup>
				</Grid.LayoutTransform>
				<ContentControl Name="_contentControl" Content="{Binding Canvas}" />
			</Grid>
		</ScrollViewer>

		<Grid Grid.Row="2" Visibility="{Binding HasPermissionsToScale, Converter={StaticResource BoolToVisibilityConverter}}">
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="Auto" />
				<ColumnDefinition Width="*" />
				<ColumnDefinition Width="Auto" />
				<ColumnDefinition Width="Auto" />
				<ColumnDefinition Width="*" />
				<ColumnDefinition Width="Auto" />
				<ColumnDefinition Width="Auto" />
			</Grid.ColumnDefinitions>
			<Controls:ToolBarButton Grid.Column="0" Click="OnDeviceZoomOut" ImageSource="/Controls;component/Images/ZoomOut.png" ToolTip="Уменьшить размер устройства" />
			<Slider x:Name="deviceSlider" Grid.Column="1" VerticalAlignment="Center" Maximum="50" Minimum="15" Orientation="Horizontal" Value="30" />
			<Controls:ToolBarButton Grid.Column="2" Click="OnDeviceZoomIn" ImageSource="/Controls;component/Images/ZoomIn.png" ToolTip="Увеличить размер устройства" />

			<Controls:ToolBarButton Grid.Column="3" Click="OnZoomOut" ImageSource="/Controls;component/Images/ZoomOut.png" ToolTip="Уменьшить масштаб плана" />
			<Slider x:Name="slider" Grid.Column="4" VerticalAlignment="Center" Maximum="10" Minimum="1" Orientation="Horizontal" Value="1" />
			<Controls:ToolBarButton Grid.Column="5" Click="OnZoomIn" ImageSource="/Controls;component/Images/ZoomIn.png" ToolTip="Увеличить масштаб плана" />
		</Grid>
	</Grid>
</UserControl>