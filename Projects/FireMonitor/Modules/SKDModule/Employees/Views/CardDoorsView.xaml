<UserControl x:Class="SKDModule.Views.CardDoorsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:Controls="clr-namespace:Controls;assembly=Controls"
             xmlns:tree="clr-namespace:Controls.TreeList;assembly=Controls">

	<tree:TreeList Focusable="True" SelectedTreeNode="{Binding SelectedZone}" Source="{Binding RootZones}">
		<tree:TreeList.View>
			<GridView>
				<GridViewColumn Width="250" Header="Зона">
					<GridViewColumn.CellTemplate>
						<DataTemplate>
							<StackPanel Orientation="Horizontal">
								<Image Margin="1 0 0 0" VerticalAlignment="Center" Source="/Controls;component/Images/zone.png" />
								<TextBlock Width="200" Margin="2" HorizontalAlignment="Stretch" VerticalAlignment="Center" Text="{Binding Zone.Name}">
									<TextBlock.Style>
										<Style>
											<Style.Triggers>
												<DataTrigger Binding="{Binding IsChecked}" Value="True">
													<DataTrigger.Setters>
														<Setter Property="TextBlock.FontWeight" Value="Bold" />
													</DataTrigger.Setters>
												</DataTrigger>
											</Style.Triggers>
										</Style>
									</TextBlock.Style>
								</TextBlock>
							</StackPanel>
						</DataTemplate>
					</GridViewColumn.CellTemplate>
				</GridViewColumn>
				<GridViewColumn Width="100" DisplayMemberBinding="{Binding Zone.Description}" Header="Примечание" />
				<GridViewColumn Width="125" Header="Защита от передачи">
					<GridViewColumn.CellTemplate>
						<DataTemplate>
							<TextBlock Margin="2" Text="{Binding IsAntiPassback, Converter={StaticResource BoolToYesConverter}}" />
						</DataTemplate>
					</GridViewColumn.CellTemplate>
				</GridViewColumn>
				<GridViewColumn Width="195" Header="Доступ с комиссионированием">
					<GridViewColumn.CellTemplate>
						<DataTemplate>
							<TextBlock Margin="2" Text="{Binding IsAntiPassback, Converter={StaticResource BoolToYesConverter}}" />
						</DataTemplate>
					</GridViewColumn.CellTemplate>
				</GridViewColumn>
				<GridViewColumn Header="Временной критерий">
					<GridViewColumn.CellTemplate>
						<DataTemplate>
							<StackPanel Orientation="Horizontal" Visibility="{Binding IsChecked, Converter={StaticResource BoolToVisibilityConverter}}">
								<TextBlock Margin="0 0 10 0" Text="{Binding SelectedTimeCreteria.Description}" />
								<TextBlock Text="{Binding SelectedTimeType.Name}" />
							</StackPanel>
						</DataTemplate>
					</GridViewColumn.CellTemplate>
				</GridViewColumn>
			</GridView>
		</tree:TreeList.View>
	</tree:TreeList>
</UserControl>