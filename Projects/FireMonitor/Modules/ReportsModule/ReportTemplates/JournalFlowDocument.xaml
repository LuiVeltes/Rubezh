<FlowDocument xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
              xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
              xmlns:xrd="clr-namespace:CodeReason.Reports.Document;assembly=CodeReason.Reports"
              xmlns:xrbc="clr-namespace:CodeReason.Reports.Document.Barcode;assembly=CodeReason.Reports"
              PageHeight="29cm" PageWidth="21cm" ColumnWidth="21cm"
              >
    <FlowDocument.Resources>
        <Style x:Key="headerFooterRowStyle" TargetType="{x:Type TableRowGroup}">
            <Setter Property="FontWeight" Value="Bold" />
            <Setter Property="FontSize" Value="12" />
        </Style>

        <Style x:Key="dataRowStyle" TargetType="{x:Type TableRowGroup}">
            <Setter Property="FontSize" Value="12" />
        </Style>

        <Style TargetType="{x:Type TableCell}">
            <Setter Property="Padding" Value="0.1cm" />
            <Setter Property="BorderBrush" Value="Black" />
            <Setter Property="BorderThickness" Value="0.01cm" />
        </Style>

        <Style x:Key="headerTableCell" TargetType="{x:Type TableCell}">
            <Setter Property="BorderBrush" Value="Black" />
            <Setter Property="BorderThickness" Value="0.01cm" />
            <Setter Property="Padding" Value="0.1cm" />
        </Style>

        <Style x:Key="tableStyle" TargetType="{x:Type Table}">
            <Setter Property="CellSpacing" Value="0" />
            <Setter Property="BorderBrush" Value="Black" />
            <Setter Property="BorderThickness" Value="0.01cm" />
        </Style>
    </FlowDocument.Resources>
    <xrd:ReportProperties BorderBrush="Black" BorderThickness="0.01cm">
        <xrd:ReportProperties.ReportName>JournalList</xrd:ReportProperties.ReportName>
        <xrd:ReportProperties.ReportTitle>Журнал событий</xrd:ReportProperties.ReportTitle>
    </xrd:ReportProperties>

    <xrd:SectionReportHeader PageHeaderHeight="5.8" Padding="22,17,22,0" FontSize="12" BorderThickness="0.01cm">
        <Table >
            <Table.Columns>
                <TableColumn Width="*" />
            </Table.Columns>
            <TableRowGroup>
                <TableRow>
                    <TableCell>
                        <Paragraph TextAlignment="Center">
                            <xrd:InlineContextValue PropertyName="ReportTitle" />
                            с
                            <xrd:InlineDocumentValue PropertyName="PrintDateStart" Format="dd.MM.yyyy HH:mm:ss" />
                            по
                            <xrd:InlineDocumentValue PropertyName="PrintDateEnd" Format="dd.MM.yyyy HH:mm:ss" />
                        </Paragraph>
                    </TableCell>
                </TableRow>
            </TableRowGroup>
        </Table>
        <Table Padding="0" Style="{StaticResource tableStyle}"  TextAlignment="Center" Background="LightGray">
            <Table.Columns>
                <TableColumn Width="1*"/>
                <TableColumn Width="1*"/>
                <TableColumn Width="1*"/>
                <TableColumn Width="1*"/>
                <TableColumn Width="1*"/>
                <TableColumn Width="1*"/>
                <TableColumn Width="1*"/>
            </Table.Columns>
            <TableRowGroup Style="{StaticResource headerFooterRowStyle}" >
                <TableRow>
                    <TableCell Style="{StaticResource headerTableCell}">
                        <Paragraph TextAlignment="Center">
                            <Bold>Время устройства</Bold>
                        </Paragraph>
                    </TableCell>
                    <TableCell Style="{StaticResource headerTableCell}">
                        <Paragraph TextAlignment="Center">
                            <Bold>Системное время</Bold>
                        </Paragraph>
                    </TableCell>
                    <TableCell Style="{StaticResource headerTableCell}">
                        <Paragraph TextAlignment="Center">
                            <Bold>Зона</Bold>
                        </Paragraph>
                    </TableCell>
                    <TableCell Style="{StaticResource headerTableCell}">
                        <Paragraph TextAlignment="Center">
                            <Bold>Событие</Bold>
                        </Paragraph>
                    </TableCell>
                    <TableCell Style="{StaticResource headerTableCell}">
                        <Paragraph TextAlignment="Center">
                            <Bold>Устройство датчик</Bold>
                        </Paragraph>
                    </TableCell>
                    <TableCell Style="{StaticResource headerTableCell}">
                        <Paragraph TextAlignment="Center">
                            <Bold>Устройство</Bold>
                        </Paragraph>
                    </TableCell>
                    <TableCell Style="{StaticResource headerTableCell}">
                        <Paragraph TextAlignment="Center">
                            <Bold>Пользователь</Bold>
                        </Paragraph>
                    </TableCell>
                </TableRow>
            </TableRowGroup>
        </Table>
    </xrd:SectionReportHeader>
    <xrd:SectionReportFooter PageFooterHeight="4" Padding="22,0,22,10" FontSize="12">
        <Table CellSpacing="0">
            <Table.Columns>
                <TableColumn Width="*" />
                <TableColumn Width="*" />
            </Table.Columns>
            <TableRowGroup>
                <TableRow>
                    <TableCell ColumnSpan="2">
                        <BlockUIContainer>
                            <Rectangle
                                    Fill="Black"
                                    Height="1" />
                        </BlockUIContainer>
                    </TableCell>
                </TableRow>
                <TableRow >
                    <TableCell>
                        <Paragraph TextAlignment="Left">
                            <xrd:InlineDocumentValue PropertyName="PrintDateNow" Format="dd.MM.yyyy HH:mm:ss" />
                        </Paragraph>
                    </TableCell>
                    <TableCell>
                        <Paragraph TextAlignment="Right">
                            Страница
                            <xrd:InlineContextValue PropertyName="PageNumber" FontWeight="Bold" />
                        </Paragraph>
                    </TableCell>
                </TableRow>
            </TableRowGroup>
        </Table>
    </xrd:SectionReportFooter>
    <Section Padding="4,0,4,4" FontSize="12" BreakPageBefore="True">
        <Table Style="{StaticResource tableStyle}" TextAlignment="Center" >
            <Table.Columns>
                <TableColumn Width="1*" />
                <TableColumn Width="1*" />
                <TableColumn Width="1*" />
                <TableColumn Width="1*" />
                <TableColumn Width="1*" />
                <TableColumn Width="1*" />
                <TableColumn Width="1*" />
            </Table.Columns>
            <TableRowGroup Style="{StaticResource dataRowStyle}">
                <xrd:TableRowForDynamicDataTable TableName="JournalList" />
            </TableRowGroup>
        </Table>
    </Section>
</FlowDocument>