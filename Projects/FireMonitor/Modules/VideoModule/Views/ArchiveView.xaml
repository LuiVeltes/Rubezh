<UserControl x:Class="VideoModule.Views.ArchiveView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:extToolkit="clr-namespace:Microsoft.Windows.Controls;assembly=WPFToolkit.Extended"
             MinWidth="800" MinHeight="500">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="320" />
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <Grid Grid.Column="0">
            <Grid.RowDefinitions>
                <RowDefinition Height ="120" />
                <RowDefinition Height="*" />
                <RowDefinition Height ="Auto" />
            </Grid.RowDefinitions>
            <Grid Grid.Row ="0">
                <Grid.RowDefinitions>
                    <RowDefinition />
                    <RowDefinition />
                    <RowDefinition />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="240" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <StackPanel Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2" Orientation="Horizontal">
                    <Label Margin="2" VerticalAlignment="Center">Устройство:</Label>
                    <ComboBox ItemsSource="{Binding Cameras}" SelectedItem="{Binding SelectedCamera}" DisplayMemberPath="PresentationName" MinWidth="220" MaxWidth="220" />
                </StackPanel>
                <StackPanel Grid.Row="1" Grid.Column="0" Orientation="Horizontal" Margin="0, 10, 0, 0" HorizontalAlignment="Stretch">
                    <Label VerticalAlignment="Center" Content="С" />
                    <extToolkit:DateTimePicker Value="{Binding StartTime}" Margin="8,0,0,0"  MinWidth="210" MaxWidth="210"/>
                </StackPanel >
                <StackPanel Grid.Row="2" Grid.Column="0" Orientation="Horizontal" Margin="0, 10, 0, 0" HorizontalAlignment="Stretch">
                    <Label VerticalAlignment="Center">По</Label>
                    <extToolkit:DateTimePicker Value="{Binding EndTime}" MinWidth="210" MaxWidth="210" />
                </StackPanel>
                <ToolBarButton Grid.Row="1" Grid.Column="1" Grid.RowSpan="2" ImageSource="/Controls;component/Images/Search.png" Width="64" Height="64" ToolTip="Поиск" Command="{Binding SearchCommand}" />
            </Grid>
            <DataGrid Grid.Row="1" Margin="10" ItemsSource="{Binding Records}" SelectedItem="{Binding SelectedRecord}" >
                <DataGrid.Columns>
                    <DataGridTextColumn Binding="{Binding NetRecordFileInfo.StartTime}" Header="Время начала" />
                    <DataGridTextColumn Binding="{Binding NetRecordFileInfo.EndTime}" Header="Время окончания" />
                    <DataGridTextColumn Binding="{Binding NetRecordFileInfo.Size}" Width="1*" Header="Объем(Kb)" />
                </DataGrid.Columns>
            </DataGrid>
            <Button Grid.Row="2" Content="Воспроизвести" Command="{Binding StartCommand}" Height="30" Width="150" Margin="0, 0, 10, 0" HorizontalAlignment="Right" />
        </Grid>
        <GridSplitter Grid.Column="1" Width="10" Background="Transparent" VerticalAlignment="Stretch" HorizontalAlignment="Center" />
        <Grid Grid.Column="2">
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
                <RowDefinition Height="40" />
            </Grid.RowDefinitions>
            <Border Name="_grid" Grid.Row="0"/>
            <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0, 5, 0, 0">
                <ToolBarButton Command="{Binding PauseCommand}" >
                    <Image>
                        <Image.Style>
                            <Style>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsPaused, Mode=OneWay}" Value="True">
                                        <Setter Property="Image.Source" Value="/Controls;component/Images/Play.png"/>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding IsPaused, Mode=OneWay}" Value="False">
                                        <Setter Property="Image.Source" Value="/Controls;component/Images/Pause.png"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Image.Style>
                    </Image>
                </ToolBarButton>
                <ToolBarButton ImageSource ="/Controls;component/Images/Stop.png" Command="{Binding StopCommand}" />
                <ToolBarButton ImageSource ="/Controls;component/Images/Faster.png" Command="{Binding FastCommand}" />
                <ToolBarButton ImageSource ="/Controls;component/Images/Slower.png" Command="{Binding SlowCommand}" />
            </StackPanel>
        </Grid>
    </Grid>
</UserControl>