<UserControl x:Class="VideoModule.Views.CamerasView"
	 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	 xmlns:dragDrop="clr-namespace:Infrastructure.Common.Services.DragDrop;assembly=Infrastructure.Common">
    <Grid>
        <XDataGrid ItemsSource="{Binding Cameras}" SelectedItem="{Binding SelectedCamera}">
            <DataGrid.Columns>
                <DataGridTemplateColumn Header="Название" Width="*">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <dragDrop:DragDropDecorator DragCommand="{Binding CreateDragObjectCommand}" DragVisualProvider="{Binding CreateDragVisual}" DynamicCursor="True" IsSource="True">
                                    <Image Width="16" Source="/Controls;component/Images/BVideo.png" />
                                </dragDrop:DragDropDecorator>
                                <TextBlock Margin="5, 0, 0, 0" VerticalAlignment="Center" Text="{Binding Camera.Name}" />
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTextColumn Binding="{Binding PresentationName}" Header="URL" Width="Auto" />
                <DataGridTextColumn Binding="{Binding Camera.Port}" Header="Порт" Width="Auto" />
                <DataGridTextColumn Binding="{Binding Camera.Login}" Header="Имя пользователя" Width="Auto" />
                <DataGridTextColumn Binding="{Binding Camera.Password}" Header="Пароль" Width="Auto" />
                <DataGridTextColumn Binding="{Binding PresentationZones}" Header="Зоны" Width="*" />
            </DataGrid.Columns>
            <XDataGrid.ContextMenu>
                <ContextMenu OverridesDefaultStyle="True" >
                    <IconedMenuItem Command="{Binding ShowOnPlanCommand}" ImageSource="/Controls;component/Images/map_black.png" Text="Показать на плане" />
                    <IconedMenuItem Command="{Binding ShowPropertiesCommand}" ImageSource="/Controls;component/Images/BSettings.png" Text="Свойства" />
                </ContextMenu>
            </XDataGrid.ContextMenu>
            <DataGrid.InputBindings>
                <MouseBinding MouseAction="LeftDoubleClick" Command="{Binding ShowOnPlanCommand}" />
            </DataGrid.InputBindings>
        </XDataGrid>
    </Grid>
</UserControl>