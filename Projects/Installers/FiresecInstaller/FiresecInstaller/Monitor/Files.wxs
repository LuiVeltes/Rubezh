<?xml version="1.0" encoding="UTF-8"?>
<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi"
		 xmlns:util="http://schemas.microsoft.com/wix/UtilExtension">
	<?include Variables.wxi?>
	<Fragment>
		<DirectoryRef Id="MONITORLOCATION">
			<Component Id="Monitor.Files" Guid="6FE1B80B-3E17-4D02-83F2-20E081B6F49B">
				<File Id="Monitor.FireMonitor.exe" Name="$(var.Monitor.TargetFileName)" Source="$(var.Monitor.TargetPath)" KeyPath="yes" />
				<File Id="Monitor.FireMonitor.exe.config" Name="FireMonitor.exe.config" Source="$(var.Monitor.TargetDir)" />
				<File Id="Monitor.FireMonitor.exe.manifest" Name="FireMonitor.exe.manifest" Source="$(var.Monitor.TargetDir)" />
				<File Id="Monitor.Infrastructure.Client.dll" Name="Infrastructure.Client.dll" Source="$(var.Common.TargetDir)" />
				<File Id="Monitor.Infrastructure.Common.dll" Name="Infrastructure.Common.dll" Source="$(var.Common.TargetDir)" />
				<File Id="Monitor.Infrustructure.Plans.dll" Name="Infrustructure.Plans.dll" Source="$(var.Common.TargetDir)" />
        <File Id="Monitor.Infrastructure.Designer.dll" Name="Infrastructure.Designer.dll" Source="$(var.Common.TargetDir)" />
				<File Id="Monitor.Infrastructure.dll" Name="Infrastructure.dll" Source="$(var.Monitor.TargetDir)" />
				<File Id="Monitor.Common.dll" Name="Common.dll" Source="$(var.Common.TargetDir)" />
				<File Id="Monitor.Controls.dll" Name="Controls.dll" Source="$(var.Common.TargetDir)" />
				<File Id="Monitor.DeviceControls.dll" Name="DeviceControls.dll" Source="$(var.Common.TargetDir)" />

        <File Id="Monitor.FireMonitor.Layout.exe" Name="FireMonitor.Layout.exe" Source="$(var.Monitor.TargetDir)" />
        <File Id="Monitor.FireMonitor.Layout.exe.config" Name="FireMonitor.Layout.exe.config" Source="$(var.Monitor.TargetDir)" />
        <File Id="Monitor.FireMonitor.Layout.exe.manifest" Name="FireMonitor.Layout.exe.manifest" Source="$(var.Monitor.TargetDir)" />

        <File Id="Monitor.FiresecAPI.dll" Name="FiresecAPI.dll" Source="$(var.Common.TargetDir)" />
				<File Id="Monitor.FiresecClient.dll" Name="FiresecClient.dll" Source="$(var.Common.TargetDir)" />
				<File Id="Monitor.Firesec.dll" Name="Firesec.dll" Source="$(var.Common.TargetDir)" />
				<File Id="Monitor.FSAgentAPI.dll" Name="FSAgentAPI.dll" Source="$(var.Common.TargetDir)" />
				<File Id="Monitor.FSAgentClient.dll" Name="FSAgentClient.dll" Source="$(var.Common.TargetDir)" />

        <File Id="Monitor.JournalModule.dll" Name="JournalModule.dll" Source="$(var.Monitor.TargetDir)" />
				<File Id="Monitor.ReportsModule.dll" Name="ReportsModule.dll" Source="$(var.Monitor.TargetDir)" />
				<!--<File Id="Monitor.AutomationModule.dll" Name="AutomationModule.dll" Source="$(var.Monitor.TargetDir)" />-->
				<File Id="Monitor.GKProcessor.dll" Name="GKProcessor.dll" Source="$(var.Common.TargetDir)" />
				<File Id="Monitor.CodeReason.Reports.dll" Name="CodeReason.Reports.dll" Source="$(var.Monitor.TargetDir)" />
				<File Id="Monitor.CodeReason.Loya.Dameer.dll" Name="Loya.Dameer.dll" Source="$(var.Monitor.TargetDir)" />
				<File Id="Monitor.NLog.dll" Name="NLog.dll" Source="$(var.Common.TargetDir)" />
				<File Id="Monitor.hasp_net_windows.dll" Name="hasp_net_windows.dll" Source="..\..\..\..\..\..\3rdParty\HASP\" />
				<File Id="Monitor.hasp_windows.dll" Name="hasp_windows.dll" Source="..\..\..\..\..\..\3rdParty\HASP\" />
				<File Id="Monitor.Microsoft.Practices.Prism.dll" Name="Microsoft.Practices.Prism.dll" Source="$(var.Common.TargetDir)" />
				<File Id="Monitor.Microsoft.Practices.Prism.UnityExtensions.dll" Name="Microsoft.Practices.Prism.UnityExtensions.dll" Source="$(var.Common.TargetDir)" />
				<File Id="Monitor.Microsoft.Practices.Unity.dll" Name="Microsoft.Practices.Unity.dll" Source="$(var.Common.TargetDir)" />
				<File Id="Monitor.Microsoft.Practices.ServiceLocation.dll" Name="Microsoft.Practices.ServiceLocation.dll" Source="$(var.Common.TargetDir)" />
        <File Id="Monitor.WPFToolkit.dll" Name="WPFToolkit.dll" Source="$(var.Monitor.TargetDir)" />
				<File Id="Monitor.WPFToolkit.Extended.dll" Name="WPFToolkit.Extended.dll" Source="$(var.Common.TargetDir)" />
				<File Id="Monitor.Ionic.Zip.dll" Name="Ionic.Zip.dll" Source="$(var.Common.TargetDir)" />
				<File Id="Monitor.Xceed.Wpf.Toolkit.dll" Name="Xceed.Wpf.Toolkit.dll" Source="$(var.Common.TargetDir)" />
				<File Id="Monitor.itextsharp.xtra.dll" Name="itextsharp.xtra.dll" Source="$(var.Monitor.TargetDir)" />
				<File Id="Monitor.itextsharp.pdfa.dll" Name="itextsharp.pdfa.dll" Source="$(var.Monitor.TargetDir)" />
				<File Id="Monitor.itextsharp.dll" Name="itextsharp.dll" Source="$(var.Common.TargetDir)" />
			</Component>

			<Component Id="Monitor.DB" Guid="B7677A70-A867-4A2D-BE8E-59D9198BB8DB">
				<File Id="Monitor.sqlceca35.dll" Name="sqlceca35.dll" Source="$(var.Server.TargetDir)" />
				<File Id="Monitor.sqlcecompact35.dll" Name="sqlcecompact35.dll" Source="$(var.Server.TargetDir)" />
				<File Id="Monitor.sqlceer35EN.dll" Name="sqlceer35EN.dll" Source="$(var.Server.TargetDir)" />
				<File Id="Monitor.sqlceme35.dll" Name="sqlceme35.dll" Source="$(var.Server.TargetDir)" />
				<File Id="Monitor.sqlceoledb35.dll" Name="sqlceoledb35.dll" Source="$(var.Server.TargetDir)" />
				<File Id="Monitor.sqlceqp35.dll" Name="sqlceqp35.dll" Source="$(var.Server.TargetDir)" />
				<File Id="Monitor.sqlcese35.dll" Name="sqlcese35.dll" Source="$(var.Server.TargetDir)" />
				<File Id="Monitor.System.Data.SqlServerCe.dll" Name="System.Data.SqlServerCe.dll" Source="$(var.Server.TargetDir)" />
			</Component>

			<Component Id="Monitor.PLANS_MODULE" Guid="921DBB68-07A3-457B-9D49-AAC3802E7706">
				<File Id="Monitor.PlansModule.dll" Name="PlansModule.dll" Source="$(var.Monitor.TargetDir)" />
			</Component>

			<Component Id="Monitor.GK_MODULE" Guid="7C84F6F3-BFE8-4C60-B062-A126AC9748C7">
				<File Id="Monitor.GKModule.dll" Name="GKModule.dll" Source="$(var.Monitor.TargetDir)" KeyPath="yes" />
				<File Id="Monitor.PlansModule.Kursk.dll" Name="PlansModule.Kursk.dll" Source="$(var.Monitor.TargetDir)" />
			</Component>

			<Component Id="Monitor.SKD_MODULE" Guid="99EC1F25-69FD-4081-A254-37AEAD590798">
				<File Id="Monitor.SKDModule.dll" Name="SKDModule.dll" Source="$(var.Monitor.TargetDir)" KeyPath="yes" />
				<File Id="Monitor.Xceed.Wpf.AvalonDock.dll" Name="Xceed.Wpf.AvalonDock.dll" Source="$(var.Common.TargetDir)" />
			</Component>

			<Component Id="Monitor.VIDEO_MODULE" Guid="FC8B6B53-86FD-4864-9739-AC6082B90C8B">
				<File Id="Monitor.VideoModule.dll" Name="VideoModule.dll" Source="$(var.Monitor.TargetDir)" KeyPath="yes" />
				<File Id="Monitor.Vlc.DotNet.Core.dll" Name="Vlc.DotNet.Core.dll" Source="$(var.Monitor.TargetDir)" />
				<File Id="Monitor.Vlc.DotNet.Forms.dll" Name="Vlc.DotNet.Forms.dll" Source="$(var.Monitor.TargetDir)" />
				<File Id="Monitor.DotNet.Core.Interops.dll" Name="Vlc.DotNet.Core.Interops.dll" Source="$(var.Monitor.TargetDir)" />
			</Component>

			<Component Id="Monitor.Revisor" Guid="B3038497-9AAE-4DBD-86AD-BC7B0174E543">
				<File Id="Monitor.Revisor.exe" Name="Revisor.exe" Source="$(var.Monitor.TargetDir)" KeyPath="yes" />
				<File Id="Monitor.Revisor.exe.manifest" Name="Revisor.exe.manifest" Source="$(var.Monitor.TargetDir)" />
			</Component>
			
		</DirectoryRef>

		<DirectoryRef Id="MONITORLOCATION">
			<Component Id="Monitor.VIDEO_MODULE_DLL" Guid="C67E5794-0C00-4341-8D89-D953A96C7CCD">
				<File Id="Monitor.Dll.Entities.dll" Name="Entities.dll" Source="$(var.VSSDll.TargetDir)" />
				<File Id="Monitor.Dll.SdkWrapper.dll" Name="SdkWrapper.dll" Source="$(var.VSSDll.TargetDir)" />
			</Component>
		</DirectoryRef>
		<DirectoryRef Id="Monitor.Dll.Dahua">
			<Component Id="Monitor.VIDEO_MODULE_DLL.Dahua" Guid="8B08915C-DB00-425a-9512-3D0C6038AC86">
				<File Id="Monitor.Dll.Dahua.aacdec.dll" Name="aacdec.dll" Source="$(var.VSSDll.TargetDir)Dll\Dahua\" />
				<File Id="Monitor.Dll.Dahua.AACDecoder.dll" Name="AACDecoder.dll" Source="$(var.VSSDll.TargetDir)Dll\Dahua\" />
				<File Id="Monitor.Dll.Dahua.amrdec.dll" Name="amrdec.dll" Source="$(var.VSSDll.TargetDir)Dll\Dahua\" />
				<File Id="Monitor.Dll.Dahua.AmrDll.dll" Name="AmrDll.dll" Source="$(var.VSSDll.TargetDir)Dll\Dahua\" />
				<File Id="Monitor.Dll.Dahua.dhconfigsdk.dll" Name="dhconfigsdk.dll" Source="$(var.VSSDll.TargetDir)Dll\Dahua\" />
				<File Id="Monitor.Dll.Dahua.DhDecode.dll" Name="DhDecode.dll" Source="$(var.VSSDll.TargetDir)Dll\Dahua\" />
				<File Id="Monitor.Dll.Dahua.dhdvr.dll" Name="dhdvr.dll" Source="$(var.VSSDll.TargetDir)Dll\Dahua\" />
				<File Id="Monitor.Dll.Dahua.dhnetsdk.dll" Name="dhnetsdk.dll" Source="$(var.VSSDll.TargetDir)Dll\Dahua\" />
				<File Id="Monitor.Dll.Dahua.dhplay.dll" Name="dhplay.dll" Source="$(var.VSSDll.TargetDir)Dll\Dahua\" />
				<File Id="Monitor.Dll.Dahua.DllDeinterlace.dll" Name="DllDeinterlace.dll" Source="$(var.VSSDll.TargetDir)Dll\Dahua\" />
				<File Id="Monitor.Dll.Dahua.dllh264.dll" Name="dllh264.dll" Source="$(var.VSSDll.TargetDir)Dll\Dahua\" />
				<File Id="Monitor.Dll.Dahua.dllmpeg4.dll" Name="dllmpeg4.dll" Source="$(var.VSSDll.TargetDir)Dll\Dahua\" />
				<File Id="Monitor.Dll.Dahua.h264dec.dll" Name="h264dec.dll" Source="$(var.VSSDll.TargetDir)Dll\Dahua\" />
				<File Id="Monitor.Dll.Dahua.IvsDrawer.dll" Name="IvsDrawer.dll" Source="$(var.VSSDll.TargetDir)Dll\Dahua\" />
				<File Id="Monitor.Dll.Dahua.IvsDrawer_64.dll" Name="IvsDrawer_64.dll" Source="$(var.VSSDll.TargetDir)Dll\Dahua\" />
				<File Id="Monitor.Dll.Dahua.jpegdec.dll" Name="jpegdec.dll" Source="$(var.VSSDll.TargetDir)Dll\Dahua\" />
				<File Id="Monitor.Dll.Dahua.mjpegdec.dll" Name="mjpegdec.dll" Source="$(var.VSSDll.TargetDir)Dll\Dahua\" />
				<File Id="Monitor.Dll.Dahua.mp3dec.dll" Name="mp3dec.dll" Source="$(var.VSSDll.TargetDir)Dll\Dahua\" />
				<File Id="Monitor.Dll.Dahua.MP3Decoder.dll" Name="MP3Decoder.dll" Source="$(var.VSSDll.TargetDir)Dll\Dahua\" />
				<File Id="Monitor.Dll.Dahua.mpeg4dec.dll" Name="mpeg4dec.dll" Source="$(var.VSSDll.TargetDir)Dll\Dahua\" />
				<File Id="Monitor.Dll.Dahua.mpeg4enc.dll" Name="mpeg4enc.dll" Source="$(var.VSSDll.TargetDir)Dll\Dahua\" />
				<File Id="Monitor.Dll.Dahua.postproc.dll" Name="postproc.dll" Source="$(var.VSSDll.TargetDir)Dll\Dahua\" />
			</Component>
		</DirectoryRef>
		<DirectoryRef Id="Monitor.Dll.Hik">
			<Component Id="Monitor.VIDEO_MODULE_DLL.Hik" Guid="E250CE9A-1F3F-4d8c-8B9F-0A13656AF4A6">
				<File Id="Monitor.Dll.Hik.AudioIntercom.dll" Name="AudioIntercom.dll" Source="$(var.VSSDll.TargetDir)Dll\Hik\" />
				<File Id="Monitor.Dll.Hik.DsSdk.dll" Name="DsSdk.dll" Source="$(var.VSSDll.TargetDir)Dll\Hik\" />
				<File Id="Monitor.Dll.Hik.gdiplus.dll" Name="gdiplus.dll" Source="$(var.VSSDll.TargetDir)Dll\Hik\" />
				<File Id="Monitor.Dll.Hik.HCNetSDK.dll" Name="HCNetSDK.dll" Source="$(var.VSSDll.TargetDir)Dll\Hik\" />
				<File Id="Monitor.Dll.Hik.OpenAL32.dll" Name="OpenAL32.dll" Source="$(var.VSSDll.TargetDir)Dll\Hik\" />
				<File Id="Monitor.Dll.Hik.PlayCtrl.dll" Name="PlayCtrl.dll" Source="$(var.VSSDll.TargetDir)Dll\Hik\" />
				<File Id="Monitor.Dll.Hik.QosControl.dll" Name="QosControl.dll" Source="$(var.VSSDll.TargetDir)Dll\Hik\" />
				<File Id="Monitor.Dll.Hik.StreamTransClient.dll" Name="StreamTransClient.dll" Source="$(var.VSSDll.TargetDir)Dll\Hik\" />
				<File Id="Monitor.Dll.Hik.SystemTransform.dll" Name="SystemTransform.dll" Source="$(var.VSSDll.TargetDir)Dll\Hik\" />
			</Component>
		</DirectoryRef>
		<DirectoryRef Id="Monitor.Dll.Sunell">
			<Component Id="Monitor.VIDEO_MODULE_DLL.Sunell" Guid="D4DEE78A-D810-4ff1-AE86-DD069F437E66">
				<File Id="Monitor.Dll.Sunell.NvdaiDll.dll" Name="NvdaiDll.dll" Source="$(var.VSSDll.TargetDir)Dll\Sunell\" />
				<File Id="Monitor.Dll.Sunell.NvdalDll.dll" Name="NvdalDll.dll" Source="$(var.VSSDll.TargetDir)Dll\Sunell\" />
				<File Id="Monitor.Dll.Sunell.Nvdcdll.dll" Name="Nvdcdll.dll" Source="$(var.VSSDll.TargetDir)Dll\Sunell\" />
				<File Id="Monitor.Dll.Sunell.SensorUI.dll" Name="SensorUI.dll" Source="$(var.VSSDll.TargetDir)Dll\Sunell\" />
			</Component>
		</DirectoryRef>

		<DirectoryRef Id="Monitor.ShellFolder">
			<Component Id="Monitor.Integrate" Guid="F4BAD8FB-EEC4-44C4-9C80-849C9F3A9F29">
				<File Id="Monitor.Integrate.cmd" Name="Integrate.cmd" Source="Data\Shell\" KeyPath="yes" />
				<File Id="Monitor.Desintegrate.cmd" Name="Desintegrate.cmd" Source="Data\Shell\" />
				<File Id="Monitor.Integrate.reg" Name="Integrate.reg" Source="Data\Shell\" />
				<File Id="Monitor.Desintegrate.reg" Name="Desintegrate.reg" Source="Data\Shell\" />
				<File Id="Monitor.Integrate_x64.reg" Name="Integrate x64.reg" Source="Data\Shell\" />
				<File Id="Monitor.Integrate_x32.reg" Name="Integrate x32.reg" Source="Data\Shell\" />
			</Component>
		</DirectoryRef>

		<DirectoryRef Id="SystemFolder">
			<Component Id="Monitor.Hasp" Guid="F1E5C7D0-D39F-4206-9209-3237AAB579F1">
				<File Id="Monitor.hasp_windows_83702.dll" Name="hasp_windows_83702.dll" Source="..\..\..\..\..\..\3rdParty\HASP\" KeyPath="yes" />
			</Component>
		</DirectoryRef>
	</Fragment>
</Wix>