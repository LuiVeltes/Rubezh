<UserControl x:Class="FiresecService.Views.MainView" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" MinWidth="400" MinHeight="400" Loaded="UserControl_Loaded">
	<Grid Margin="10">
		<Grid.RowDefinitions>
			<RowDefinition Height="*" />
			<RowDefinition Height="Auto" />
		</Grid.RowDefinitions>
		<TabControl Grid.Row="0" Background="{DynamicResource AlternativeBackgroundBrush}">
			<TabItem Header="Соединения">
				<DataGrid ItemsSource="{Binding Clients}" SelectedItem="{Binding SelectedClient}">
					<DataGrid.Columns>
						<DataGridTextColumn Binding="{Binding ClientType}" Header="Тип" />
						<DataGridTextColumn Binding="{Binding IpAddress}" Header="Адрес" />
						<DataGridTextColumn Binding="{Binding CallbackPort}" Header="Обратный порт" />
						<DataGridTextColumn Width="*" Binding="{Binding UserName}" Header="Пользователь" />
						<DataGridTextColumn Width="*" Binding="{Binding ConnectionDate}" Header="Время" />
						<DataGridTextColumn Width="*" Binding="{Binding ClientToServerOperationName}" Header="Операция клиент-сервер" />
						<DataGridTextColumn Width="*" Binding="{Binding ServerToClientOperationName}" Header="Операция сервер-клиент" />
						<DataGridTextColumn Width="*" Binding="{Binding State}" Header="Связь" />
					</DataGrid.Columns>
					<!--
						<DataGrid.ContextMenu>
						<ContextMenu>
						<MenuItem Header="История операций" Command="{Binding ShowOperationHistoryCommand}" />
						</ContextMenu>
						</DataGrid.ContextMenu>
					-->
				</DataGrid>
			</TabItem>
			<TabItem Header="Управление(DEBUG)" Visibility="{Binding IsDebug, Converter={StaticResource BoolToVisibilityConverter}}">
				<StackPanel>
					<Button Width="100" Margin="1" Command="{Binding ShowImitatorCommand}" Content="Имитатор" />
				</StackPanel>
			</TabItem>
		</TabControl>
		<Grid Grid.Row="1">
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="Auto" />
				<ColumnDefinition Width="Auto" />
			</Grid.ColumnDefinitions>
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto" />
				<RowDefinition Height="Auto" />
			</Grid.RowDefinitions>
			<TextBlock Grid.Row="0" Grid.Column="0" Margin="2" FontWeight="Bold" Foreground="Orange" Text="Соединение с ядром Firesec" />
			<TextBlock Grid.Row="1" Grid.Column="0" Margin="2" FontWeight="Bold" Foreground="Orange" Text="Хост сервиса" />
			<TextBlock Grid.Row="0" Grid.Column="1" Margin="2" FontSize="11" FontWeight="Bold" Foreground="Orange" Text="{Binding ComServersStatus}" />
			<TextBlock Grid.Row="1" Grid.Column="1" Margin="2" FontSize="11" FontWeight="Bold" Foreground="Orange" Text="{Binding HostStatus}" />
		</Grid>
	</Grid>
</UserControl>